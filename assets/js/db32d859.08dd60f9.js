"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6653],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(h,i(i({ref:t},p),{},{components:n})):r.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7215:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={},i="Securing Your Instance",l={unversionedId:"security",id:"security",title:"Securing Your Instance",description:"Protecting developer & user credentials",source:"@site/docs/security.md",sourceDirName:".",slug:"/security",permalink:"/security",draft:!1,editUrl:"https://github.com/nangohq/nango/tree/master/docs/docs/security.md",tags:[],version:"current",frontMatter:{}},s={},c=[{value:"Protecting developer &amp; user credentials",id:"protecting-developer--user-credentials",level:2},{value:"CLI requests",id:"cli-requests",level:3},{value:"Node SDK",id:"node-sdk",level:3},{value:"REST API",id:"rest-api",level:3}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"securing-your-instance"},"Securing Your Instance"),(0,a.kt)("h2",{id:"protecting-developer--user-credentials"},"Protecting developer & user credentials"),(0,a.kt)("p",null,"For endpoints related to configuring providers and fetching user credentials, Nango uses ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Basic_access_authentication"},"Basic Auth"),"."),(0,a.kt)("p",null,"To activate Basic Auth, generate an API key (e.g. ",(0,a.kt)("a",{parentName:"p",href:"https://codepen.io/corenominal/pen/rxOmMJ"},"here"),") and add it to the ",(0,a.kt)("inlineCode",{parentName:"p"},"NANGO_SECRET_KEY")," environment variable (in the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file at the root of the Nango folder)."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This API key should be kept secret at all time and never committed to git. Compromising the API key would compromise your developer and user credentials stored with Nango.")),(0,a.kt)("p",null,"Once you redeploy Nango, it will expect this secret API key for any sensitive request. "),(0,a.kt)("h3",{id:"cli-requests"},"CLI requests"),(0,a.kt)("p",null,"Add the ",(0,a.kt)("inlineCode",{parentName:"p"},"NANGO_SECRET_KEY")," as an environment variable for your own environment, using your ",(0,a.kt)("inlineCode",{parentName:"p"},".bashrc")," or ",(0,a.kt)("inlineCode",{parentName:"p"},".zshrc")," file."),(0,a.kt)("h3",{id:"node-sdk"},"Node SDK"),(0,a.kt)("p",null,"When initializing the ",(0,a.kt)("inlineCode",{parentName:"p"},"Nango")," object, pass in the API key in the ",(0,a.kt)("inlineCode",{parentName:"p"},"secretKey")," parameter."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { Nango } from '@nangohq/node'\n\n// Tell Nango where to find your Nango server + the secret API key.\nlet nango = new Nango('http://localhost:3003', apiKey);\n")),(0,a.kt)("h3",{id:"rest-api"},"REST API"),(0,a.kt)("p",null,"Add a Basic ",(0,a.kt)("inlineCode",{parentName:"p"},"Authorization")," header to your requests. To generate the header value: "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Append the character ",(0,a.kt)("inlineCode",{parentName:"li"},":")," to your secret API key"),(0,a.kt)("li",{parentName:"ol"},"Encode this (",(0,a.kt)("inlineCode",{parentName:"li"},"[SECRET-API-KEY] + ':'"),") in Base 64"),(0,a.kt)("li",{parentName:"ol"},"The final header value should be ",(0,a.kt)("inlineCode",{parentName:"li"},"Basic [ENCODED-VALUE]"))),(0,a.kt)("p",null,"In Javascript, setting the authorization header looks like this: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"headers['Authorization'] = 'Basic ' + Buffer.from(process.env['NANGO_SECRET_KEY'] + ':').toString('base64');\n")))}u.isMDXComponent=!0}}]);