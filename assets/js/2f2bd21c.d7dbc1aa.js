"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9766],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),u=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(i.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(t),h=r,g=d["".concat(i,".").concat(h)]||d[h]||p[h]||o;return t?a.createElement(g,s(s({ref:n},c),{},{components:t})):a.createElement(g,s({ref:n},c))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,s=new Array(o);s[0]=d;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var u=2;u<o;u++)s[u]=t[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5162:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(7294),r=t(6010);const o="tabItem_Ymn6";function s(e){let{children:n,hidden:t,className:s}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,s),hidden:t},n)}},4866:(e,n,t)=>{t.d(n,{Z:()=>w});var a=t(7462),r=t(7294),o=t(6010),s=t(2466),l=t(6550),i=t(1980),u=t(7392),c=t(12);function p(e){return function(e){var n;return(null==(n=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:n.filter(Boolean))??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}function d(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??p(t);return function(e){const n=(0,u.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.k6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,i._X)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(a.location.search);n.set(o,e),a.replace({...a.location,search:n.toString()})}),[o,a])]}function y(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,o=d(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:o}))),[i,u]=g({queryString:t,groupId:a}),[p,y]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,o]=(0,c.Nk)(t);return[a,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:a}),m=(()=>{const e=i??p;return h({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{m&&l(m)}),[m]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),y(e)}),[u,y,o]),tabValues:o}}var m=t(2389);const f="tabList__CuJ",b="tabItem_LNqP";function v(e){let{className:n,block:t,selectedValue:l,selectValue:i,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,s.o5)(),d=e=>{const n=e.currentTarget,t=c.indexOf(n),a=u[t].value;a!==l&&(p(n),i(a))},h=e=>{var n;let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}null==(n=t)||n.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n)},u.map((e=>{let{value:n,label:t,attributes:s}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>c.push(e),onKeyDown:h,onClick:d},s,{className:(0,o.Z)("tabs__item",b,null==s?void 0:s.className,{"tabs__item--active":l===n})}),t??n)})))}function _(e){let{lazy:n,children:t,selectedValue:a}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function k(e){const n=y(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",f)},r.createElement(v,(0,a.Z)({},e,n)),r.createElement(_,(0,a.Z)({},e,n)))}function w(e){const n=(0,m.Z)();return r.createElement(k,(0,a.Z)({key:String(n)},e))}},5455:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>u,toc:()=>p});var a=t(7462),r=(t(7294),t(3905)),o=t(4866),s=t(5162);const l={},i="Create Syncs",u={unversionedId:"nango-sync/use-nango/sync-all-options",id:"nango-sync/use-nango/sync-all-options",title:"Create Syncs",description:"Adding a Sync to Nango is quick & easy. If you have not read the core concepts yet please do so first: From here on out we assume you are familiar with Syncs and how they work together with your application.",source:"@site/docs/nango-sync/use-nango/sync-all-options.md",sourceDirName:"nango-sync/use-nango",slug:"/nango-sync/use-nango/sync-all-options",permalink:"/nango-sync/use-nango/sync-all-options",draft:!1,editUrl:"https://github.com/nangohq/nango/tree/master/docs/docs/nango-sync/use-nango/sync-all-options.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Core concepts",permalink:"/nango-sync/use-nango/core-concepts"},next:{title:"Modes",permalink:"/nango-sync/use-nango/sync-modes"}},c={},p=[{value:"3 quick steps to add a new Sync",id:"3-quick-steps-to-add-a-new-sync",level:2},{value:"Sync options",id:"sync-options",level:2},{value:"Problems with your Sync? We are here to help!",id:"problems-with-your-sync-we-are-here-to-help",level:2}],d={toc:p};function h(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"create-syncs"},"Create Syncs"),(0,r.kt)("p",null,"Adding a Sync to Nango is quick & easy. If you have not read the ",(0,r.kt)("a",{parentName:"p",href:"/nango-sync/use-nango/core-concepts"},"core concepts")," yet please do so first: From here on out we assume you are familiar with Syncs and how they work together with your application."),(0,r.kt)("h2",{id:"3-quick-steps-to-add-a-new-sync"},"3 quick steps to add a new Sync"),(0,r.kt)("p",null,"We recommend the following steps when you add a new Sync to Nango:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Make sure the API request works as expected (using Postman, a script, CLI etc.)"),(0,r.kt)("li",{parentName:"ol"},"Look at the Sync options below and configure them for your Sync"),(0,r.kt)("li",{parentName:"ol"},"Run your code once and make sure Nango syncs your data as expected")),(0,r.kt)("h2",{id:"sync-options"},"Sync options"),(0,r.kt)("p",null,"This example shows you all the possible configuration options for a Nango Sync. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"All configuration fields are optional")," (though you may need to provide the relevant ones for the external API request to succeed). "),(0,r.kt)("p",null,"If you want to see some examples of them in action take a look at the ",(0,r.kt)("a",{parentName:"p",href:"/nango-sync/real-world-examples"},"real world examples")," page."),(0,r.kt)("p",null,"For all the ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," parameters you can use ",(0,r.kt)("inlineCode",{parentName:"p"},".")," characters to reference keys in nested objects: ",(0,r.kt)("inlineCode",{parentName:"p"},"paging.next.after")),(0,r.kt)(o.Z,{groupId:"programming-language",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"node",label:"Node SDK",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import {Nango, NangoHttpMethod} from '@nangohq/node-client'\n\nlet config = {\n    //==================\n    // Config for the HTTP request to the 3rd party API\n    //==================\n    method: NangoHttpMethod.Get,    // The HTTP method of the external REST API endpoint (GET, POST, etc.). Default: GET.\n    headers: {                      // HTTP headers to send along with every request to the external API (e.g. auth header).\n        'Accept': 'application/json'\n    },\n    body: {                         // HTTP body to send along with every request to the external API.\n        'mykey': 'A great value'\n    },\n    query_params: {\n        'mykey': 'A great value'    // URL query params to send along with every request to the external API.\n    },\n\n    //==================\n    // Fetching records & uniquely identifying them\n    //==================\n    response_path: 'data.results',  // The path to the result objects inside the external API response.\n    unique_key: 'profile.email',    // The key in the result objects used for deduping (e.g. email, id) + enables Upsert syncing mode.\n    metadata: {                     // Will be attached to every synced record. 1 column per key.\n        user_id: 123,\n        company: 'supercorp'\n    }\n\n    //==================\n    // Deletion modes\n    //==================\n    soft_delete: false,             // Defaults to false. Soft Delete Mode will keep deleted records in the db and add the deletion date in a 'deleted_at' column.\n\n    //==================\n    // Pagination\n    //==================\n\n    // Pagination strategy 1: Next page cursor in response metadata\n    paging_cursor_request_path: 'after',   // Provide the cursor request path for fetching the next page.\n    paging_cursor_metadata_response_path: 'paging.next.after',   // Use a field in the response as cursor for the next page.\n\n    // Pagination strategy 2: Next page cursor in response's last object\n    paging_cursor_request_path: 'after',   // Provide the cursor request path for fetching the next page.\n    paging_cursor_object_response_path: 'id', // Use a field of the response's last object as cursor for the next page.\n\n    // Pagination strategy 3: Next page URL in response body\n    paging_url_path: 'next',        // Use a field in the response as URL for the next page.\n\n    // Pagination strategy 4: Next page URL in response header\n    paging_header_link_rel: 'next', // Use the Link Header to fetch the next page.\n\n    //==================\n    // JSON-to-SQL schema mapping (for details see \"Schema mappings\" in the sidebar)\n    //==================\n    auto_mapping: true,             // Automatically map JSON objects returned from external APIs to SQL columns. Default: true.\n    mapped_table: 'example_table'   // The name of the table in the database where the results should be stored.\n\n    //==================\n    // Sync frequency\n    //==================\n    cron: \"* * * * *\",              // Run Sync jobs on a cron schedule.\n    frequency: \"1 hour\",            // Alternatively, run Sync jobs with an unaligned frequency, using natural language.\n\n    //==================\n    // Authentication (only needed for OAuth, leverages Nango)\n    //==================\n    nango_connection_id: \"user1\",  // The ID of the connection registered with Nango\n    nango_provider_config_key: \"hubspot\",  // The key of the provider configuration registered with Nango\n    \n    //==================\n    // Convenience features\n    //==================\n    max_total: 100,                 // Limit the total number of total objects synced for testing purposes.\n    friendly_name: 'My Sync',       // Human readable name, will be used in logs & observability.\n};\n\n// Add the Sync\nnew Nango().sync('https://api.example.com/my/endpoint?query=A+query', config);\n"))),(0,r.kt)(s.Z,{value:"curl",label:"REST API (curl)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'curl --request POST \\\n--url http://localhost:3003/v1/syncs \\\n--header "Content-type: application/json" \\\n--data \'{\n  "url": "https://api.example.com/my/endpoint?query=A+query",\n  "method": "GET",\n  "headers": { "Accept": "application/json"},\n  "body": { "mykey": "A great value"},\n  "query_params": { "mykey": "A great value"},\n  "response_path": "data.results",\n  "unique_key": "profile.email",\n  "paging_cursor_request_path": "after",\n  "paging_cursor_metadata_response_path": "next",\n  "paging_url_path": "next",\n  "paging_cursor_object_response_path": "id",\n  "paging_header_link_rel": "next",\n  "auto_mapping": true,\n  "frequency": 15,\n  "nango_connection_id": "user1",\n  "nango_provider_config_key": "hubspot",\n  "max_total": 100,\n  "friendly_name": "My Sync",\n  "metadata": { "company_id": 123 }\n}\'\n\n#==================\n# Config for the HTTP request to the 3rd party API\n#==================\n#\n# - url: The URL of the external API endpoint\n# - method: The HTTP method of the external REST API endpoint (GET, POST, etc.). Default: GET.\n# - headers: HTTP headers to send along with every request to the external API (e.g. auth header).\n# - body: HTTP body to send along with every request to the external API.\n# - query_params: URL query params to send along with every request to the external API.\n#\n#==================\n# Fetching records & uniquely identifying them\n#==================\n#\n# - response_path: The path to the result objects inside the external API response.\n# - unique_key: The key in the result objects used for deduping (e.g. email, id) + enables Full Refresh + Upsert syncing mode.\n# - metadata: Will be attached to every synced record. 1 column per key.\n#\n#==================\n# Pagination\n#==================\n#\n# Pagination strategy 1: Next page cursor in response metadata\n# - paging_cursor_request_path: Provide the cursor request path for fetching the next page.\n# - paging_cursor_metadata_response_path: Use a field in the response as cursor for the next page.\n# \n# Pagination strategy 2: Next page cursor in response\'s last object\n# - paging_cursor_request_path: Provide the cursor request path for fetching the next page.\n# - paging_cursor_object_response_path: Use a field of the response\'s last object as cursor for the next page.\n#\n# Pagination strategy 3: Next page URL in response body\n# - paging_url_path: Use a field in the response as URL for the next page.\n#\n# Pagination strategy 4: Next page URL in response header\n# - paging_header_link_rel: Use the Link Header to fetch the next page.\n#\n#==================\n# JSON-to-SQL schema mapping (for details see "Schema mappings" in the sidebar)\n#==================\n#\n# - auto_mapping: Automatically map JSON objects returned from external APIs to SQL columns. Default: true.\n# - mapped_table: The name of the table in the database where the results should be stored.\n#\n#==================\n# Sync frequency\n#==================\n#\n# - frequency: Sync interval in minutes. Default: 60\n#\n#==================\n# Authentication (only needed for OAuth, leverages Nango)\n#==================\n#\n# - nango_connection_id: The ID of the connection registered with Nango\n# - nango_provider_config_key: The key of the provider configuration registered with Nango\n#\n#==================\n# Convenience features\n#==================\n#\n# - max_total: Limit the total number of total objects synced for testing purposes.\n# - friendly_name: Human readable name, will be used in logs & observability.\n#\n\n')))),(0,r.kt)("h2",{id:"problems-with-your-sync-we-are-here-to-help"},"Problems with your Sync? We are here to help!"),(0,r.kt)("p",null,"If you need help or run into issues, please reach out! We are online and responsive all day on the ",(0,r.kt)("a",{parentName:"p",href:"https://nango.dev/slack"},"Slack Community"),"."))}h.isMDXComponent=!0}}]);