"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[486],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>h});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),s=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=s(o),h=a,m=c["".concat(l,".").concat(h)]||c[h]||u[h]||r;return o?n.createElement(m,i(i({ref:t},d),{},{components:o})):n.createElement(m,i({ref:t},d))}));function h(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=c;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var s=2;s<r;s++)i[s]=o[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}c.displayName="MDXCreateElement"},5494:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>s});var n=o(7462),a=(o(7294),o(3905));const r={sidebar_label:"Contribute a New Provider"},i="Contribute a New API Provider",p={unversionedId:"contribute-api",id:"contribute-api",title:"Contribute a New API Provider",description:"Adding support for a new API provider to Nango is fast & easy. Please follow the steps below and we will be happy to accept your PR! You should also join the #contribution channel on our Slack community.",source:"@site/docs/contribute-api.md",sourceDirName:".",slug:"/contribute-api",permalink:"/contribute-api",draft:!1,editUrl:"https://github.com/nangohq/nango/tree/master/docs/docs/contribute-api.md",tags:[],version:"current",frontMatter:{sidebar_label:"Contribute a New Provider"},sidebar:"nango",previous:{title:"Deploy Nango to Heroku",permalink:"/nango-deploy/heroku"}},l={},s=[{value:"Step 0: Provider Template overview",id:"step-0-provider-template-overview",level:3},{value:"Step 1: Fork the Nango repo",id:"step-1-fork-the-nango-repo",level:3},{value:"Step 2: Run Nango locally",id:"step-2-run-nango-locally",level:3},{value:"Step 3: Create a developer account &amp; OAuth app on the API Provider&#39;s developer portal",id:"step-3-create-a-developer-account--oauth-app-on-the-api-providers-developer-portal",level:3},{value:"Step 4: Add your new provider to <code>providers.yaml</code>",id:"step-4-add-your-new-provider-to-providersyaml",level:3},{value:"Step 5: Create a new integration &amp; connection in Nango",id:"step-5-create-a-new-integration--connection-in-nango",level:3},{value:"Step 6: Add your integration to the Documentation",id:"step-6-add-your-integration-to-the-documentation",level:3},{value:"Step 7: Add the integration logo (optional)",id:"step-7-add-the-integration-logo-optional",level:3},{value:"Step 8: Submit your PR",id:"step-8-submit-your-pr",level:3},{value:"Where to get help",id:"where-to-get-help",level:2}],d={toc:s};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"contribute-a-new-api-provider"},"Contribute a New API Provider"),(0,a.kt)("p",null,"Adding support for a new API provider to Nango is fast & easy. Please follow the steps below and we will be happy to accept your PR! You should also join the ",(0,a.kt)("inlineCode",{parentName:"p"},"#contribution")," channel on our ",(0,a.kt)("a",{parentName:"p",href:"https://nango.dev/slack"},"Slack community"),"."),(0,a.kt)("p",null,"Don't know which API provider to contribute? Here's a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/orgs/NangoHQ/projects/2"},"list")," you can pick from!"),(0,a.kt)("h3",{id:"step-0-provider-template-overview"},"Step 0: Provider Template overview"),(0,a.kt)("p",null,"Support for the OAuth flow of different providers is implemented with templates: A small config that tells Nango how to perform the OAuth flow for the specific provider."),(0,a.kt)("p",null,"All templates of Nango live in a single file called ",(0,a.kt)("a",{parentName:"p",href:"https://nango.dev/oauth-providers"},"providers.yaml")," in the ",(0,a.kt)("inlineCode",{parentName:"p"},"server")," package."),(0,a.kt)("p",null,"Most templates only need to make use of 3 configuration keys, but in some cases you might need more."),(0,a.kt)("p",null,"The most commonly used configuration options are:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"provider-slug: # Shorthand for the provider, ideally the provider's name. Must be unique. Kebab case.\n    ##########\n    # Mandatory fields\n    ##########\n    auth_mode: OAUTH2 # Either 'OAUTH1' or 'OAUTH2'\n    authorization_url: https://${connectionConfig.params.subdomain}.gitlab.com/oauth/authorize # The URL of the authorization page for the OAuth service (supports string interpolation)\n    token_url: https://${connectionConfig.params.subdomain}.gitlab.com/oauth/token # The URL for the token request (supports string interpolation)\n\n    ##########\n    # Optional fields\n    ##########\n    authorization_params: # Additional parameters to pass along in the authorization step\n        response_type: code\n    token_params: # Additional parameters to pass along in the token request\n        mycoolparam: value\n    refresh_params: # Additional parameters to pass along in the refresh token request (defauts to the 'token_params')\n        grant_type: refresh_token\n    refresh_url: https://api.example.com/oauth/refresh # The URL to use for refreshing the access token (only if different from token_url) Warning: currently unused, requires code change before using\n    scope_separator: ',' # String to use to separate scopes. Defaults to ' ' (1 space) if not provided\n\n    # Metadata capture\n    redirect_uri_metadata:\n        - subdomain # Save the 'subdomain' query parameter value returned in the Redirect URI (Connection Metadata)\n    token_response_metadata:\n        - scopes # Save the 'scopes' query parameter value returned in the token response (Connection Metadata)\n")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Templates support parameters using string interpolation (cf. ",(0,a.kt)("a",{parentName:"p",href:"/reference/frontend-sdk#connection-config"},"flow Configuration"),") for dynamic URLs, etc.")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"You can configure some ",(0,a.kt)("a",{parentName:"p",href:"/reference/core-concepts#metadata"},"Connection Metadata"),", which is additional metadata that you want to capture during the OAuth flow and store in the Connection.")),(0,a.kt)("h3",{id:"step-1-fork-the-nango-repo"},"Step 1: Fork the Nango repo"),(0,a.kt)("p",null,"Go to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/NangoHQ/nango.git"},"https://github.com/NangoHQ/nango.git")," and fork the Nango repo."),(0,a.kt)("h3",{id:"step-2-run-nango-locally"},"Step 2: Run Nango locally"),(0,a.kt)("p",null,"Clone the forked repo and run the Nango server locally:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/[YOUR-GITHUB-ORG]/nango.git && cd nango\ndocker compose up # Keep the tab open\n")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Your 3003 port is already used? Modify the port in the ",(0,a.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," and ",(0,a.kt)("inlineCode",{parentName:"p"},".env"),".")),(0,a.kt)("h3",{id:"step-3-create-a-developer-account--oauth-app-on-the-api-providers-developer-portal"},"Step 3: Create a developer account & OAuth app on the API Provider's developer portal"),(0,a.kt)("p",null,"To create an OAuth app, you will need to provide a callback url. If you are running Nango locally, the default callback URL is ",(0,a.kt)("inlineCode",{parentName:"p"},"https://localhost:3003/oauth/callback"),"."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Some OAuth providers require ",(0,a.kt)("inlineCode",{parentName:"p"},"https")," callbacks or don't allow ",(0,a.kt)("inlineCode",{parentName:"p"},"localhost")," callbacks. A workaround is to use ",(0,a.kt)("a",{parentName:"p",href:"https://redirectmeto.com/"},"https://redirectmeto.com"),". With this, the Nango localhost callback URL becomes ",(0,a.kt)("inlineCode",{parentName:"p"},"https://redirectmeto.com/http://localhost:3003/oauth/callback")," and you will need to update the ",(0,a.kt)("inlineCode",{parentName:"p"},"NANGO_CALLBACK_URL")," env variable in the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file.")),(0,a.kt)("h3",{id:"step-4-add-your-new-provider-to-providersyaml"},"Step 4: Add your new provider to ",(0,a.kt)("inlineCode",{parentName:"h3"},"providers.yaml")),(0,a.kt)("p",null,"Edit the ",(0,a.kt)("inlineCode",{parentName:"p"},"packages/server/providers.yaml")," file as explained in the Step 0 to add support for the new provider. The provider's API documentation should contain all the details you need on the OAuth flow to complete this step."),(0,a.kt)("p",null,"Propagate your changes by running:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose restart nango-server # Force a restart, which will load in the yaml again\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose run nango-server cat packages/server/providers.yaml # Print the contents of the providers file from inside the container\n")),(0,a.kt)("h3",{id:"step-5-create-a-new-integration--connection-in-nango"},"Step 5: Create a new integration & connection in Nango"),(0,a.kt)("p",null,"Open the ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3003"},"Dashboard's home page")," and add a new Integration with your freshly added provider."),(0,a.kt)("p",null,"Run an OAuth flow from the ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3003/connections/create"},"Dashboard's connection creation page"),"."),(0,a.kt)("p",null,"If all goes well you should see your new Connection in the ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3003/connections"},"Dashboard's connection list page"),"."),(0,a.kt)("h3",{id:"step-6-add-your-integration-to-the-documentation"},"Step 6: Add your integration to the Documentation"),(0,a.kt)("p",null,"Add a file named ",(0,a.kt)("inlineCode",{parentName:"p"},"<provider_slug>.md")," (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"github.md"),") corresponding to your new integration to the ",(0,a.kt)("inlineCode",{parentName:"p"},"docs/docs/providers")," folder."),(0,a.kt)("p",null,"You can check out check out ",(0,a.kt)("a",{parentName:"p",href:"/providers/airtable"},"airtable")," for an example page. Your integration page should contain at least:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Information about the API provider's developer approval (e.g. immediate, requires manual approval, requires payment, etc.)"),(0,a.kt)("li",{parentName:"ul"},"The link to create a developer account on the API provider's developer portal"),(0,a.kt)("li",{parentName:"ul"},"The link to the oauth-related documentation page of the API provider"),(0,a.kt)("li",{parentName:"ul"},"The link to the documentation page listing the OAuth scopes of the API provider")),(0,a.kt)("p",null,"Add your new documentation page to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/NangoHQ/nango/blob/master/docs/sidebars.js"},(0,a.kt)("inlineCode",{parentName:"a"},"docs/sidebar.js"))," in the ",(0,a.kt)("inlineCode",{parentName:"p"},"items")," array (in alphabetical order):"),(0,a.kt)("p",null,"[",(0,a.kt)("img",{alt:"Provider Sidebar List",src:o(7043).Z,width:"587",height:"525"}),"]"),(0,a.kt)("h3",{id:"step-7-add-the-integration-logo-optional"},"Step 7: Add the integration logo (optional)"),(0,a.kt)("p",null,"If you want to keep Nango pretty, optionally add the provider logo in SVG to ",(0,a.kt)("inlineCode",{parentName:"p"},"packages/webapp/public/images/template-logos/"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the name of the file should be ",(0,a.kt)("inlineCode",{parentName:"li"},"<provider_slug>.svg")),(0,a.kt)("li",{parentName:"ul"},"the logo should be 44px on its longest side (width or height), centered (vertically & horizontally) inside a 62x62px transparent box"),(0,a.kt)("li",{parentName:"ul"},"if the logo is dark and hardly visible on a dark background, the 62x62px box should be white with a 10px corder radius (instead of transparent)")),(0,a.kt)("h3",{id:"step-8-submit-your-pr"},"Step 8: Submit your PR"),(0,a.kt)("p",null,"Submit your PR with the new provider to the Nango repo."),(0,a.kt)("p",null,"Feel free to ping ",(0,a.kt)("inlineCode",{parentName:"p"},"Bastien")," on the ",(0,a.kt)("a",{parentName:"p",href:"https://nango.dev/slack"},"Slack community")," to fast track the integration deployment (<1h)."),(0,a.kt)("p",null,"Thanks a lot for your contribution!! \u2764\ufe0f"),(0,a.kt)("h2",{id:"where-to-get-help"},"Where to get help"),(0,a.kt)("p",null,"If you get stuck or need help please join our ",(0,a.kt)("a",{parentName:"p",href:"https://nango.dev/slack"},"Slack community")," where the Nango contributors hang out."))}u.isMDXComponent=!0},7043:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/provider-sidebar-aee01a07f1d29f64c6ee2aa9cad69c53.png"}}]);